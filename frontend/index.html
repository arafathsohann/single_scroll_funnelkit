<!DOCTYPE html>
<html class="light" lang="bn">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Glace Cotton - Premium Cargo Pants</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography,container-queries"></script>
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600;700&amp;display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
        rel="stylesheet" />
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: "#E11D48", // Vibrant Red for CTA
                        brand: "#2E3192",   // Purple/Blue for accents
                        accent: "#10B981",  // Green for success/trust
                        "background-light": "#F9FAFB",
                        "background-dark": "#111827",
                    },
                    fontFamily: {
                        display: ["Hind Siliguri", "sans-serif"],
                        sans: ["Hind Siliguri", "sans-serif"],
                    },
                    borderRadius: {
                        DEFAULT: "8px",
                    },
                },
            },
        };
    </script>
    <style type="text/tailwindcss">
        body { font-family: 'Hind Siliguri', sans-serif; }
        .countdown-box {
            background: #4C1D95;
            color: white;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 24px;
            font-weight: bold;
            min-width: 60px;
            text-align: center;
        }
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
    </style>
</head>

<body class="bg-background-light text-slate-900 transition-colors duration-200">
    <header class="bg-gradient-to-b from-green-50 to-white pt-8 pb-12">
        <div class="max-w-4xl mx-auto px-4 text-center">
            <div class="flex flex-col items-center mb-6">
                <div class="text-3xl font-bold tracking-tighter text-brand flex items-center gap-2">
                    <span class="material-icons text-4xl">inventory_2</span>
                    <span id="header-logo"></span>
                </div>
                <h1 id="header-headline" class="text-2xl md:text-3xl font-bold text-red-600 mt-4"></h1>
            </div>
            <div class="flex justify-center gap-3 mb-8">
                <div class="flex flex-col items-center">
                    <div class="countdown-box">00</div>
                    <span class="text-xs mt-1 font-semibold uppercase opacity-70">Hours</span>
                </div>
                <div class="flex flex-col items-center">
                    <div class="countdown-box">00</div>
                    <span class="text-xs mt-1 font-semibold uppercase opacity-70">Minutes</span>
                </div>
                <div class="flex flex-col items-center">
                    <div class="countdown-box">00</div>
                    <span class="text-xs mt-1 font-semibold uppercase opacity-70">Seconds</span>
                </div>
                <div class="flex flex-col items-center">
                    <div class="countdown-box">00</div>
                    <span class="text-xs mt-1 font-semibold uppercase opacity-70">Days</span>
                </div>
            </div>
            <div
                class="bg-brand text-white py-3 px-6 rounded-lg flex flex-wrap items-center justify-between gap-4 shadow-lg">
                <span id="header-cta-text" class="text-lg font-semibold"></span>
                <a id="header-cta-btn"
                    class="bg-primary hover:bg-red-700 text-white px-6 py-2 rounded-full font-bold flex items-center gap-2 transition-transform active:scale-95"
                    href="#order-form">
                </a>
            </div>
        </div>
    </header>
    <main class="max-w-5xl mx-auto px-4 py-12">
        <section class="text-center mb-16">
            <h2 id="hero-headline" class="text-2xl md:text-3xl font-bold text-red-600 mb-2"></h2>
            <p id="hero-subheadline" class="text-slate-600 mb-8"></p>
            <div id="hero-showcase" class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-10">
                <!-- Dynamic Images -->
            </div>
            <div id="value-props-title"
                class="inline-block bg-brand text-white py-2 px-8 rounded-lg mb-8 font-bold text-lg">
            </div>
            <div id="value-props-list" class="grid md:grid-cols-2 gap-6 text-left max-w-3xl mx-auto mb-10">
                <!-- Dynamic Value Props -->
            </div>
            <div class="flex justify-center mb-12">
                <a id="hero-main-cta"
                    class="bg-primary hover:bg-red-700 text-white px-10 py-4 rounded-lg font-bold text-xl shadow-xl flex items-center gap-2"
                    href="#order-form">
                </a>
            </div>
        </section>
        <section class="bg-slate-50/50 rounded-2xl p-6 md:p-10 mb-16 border border-slate-200">
            <div class="grid md:grid-cols-2 gap-10 items-center">
                <div class="relative">
                    <img id="combo-image" alt="Combo Offer" class="rounded-2xl shadow-2xl border-4 border-brand"
                        src="" />
                    <div
                        class="absolute -bottom-4 -right-4 bg-brand text-white p-4 rounded-xl font-bold shadow-lg transform rotate-3">
                        <div id="combo-badge-line1" class="text-xl"></div>
                        <div id="combo-badge-line2" class="text-3xl"></div>
                    </div>
                </div>
                <div>
                    <h3 id="combo-details-title" class="text-2xl font-bold mb-4 text-brand">
                    </h3>
                    <p id="combo-details-desc" class="mb-6 opacity-80 leading-relaxed">
                    </p>
                    <ul id="combo-features-list" class="space-y-3 mb-8">
                        <!-- Dynamic Features -->
                    </ul>
                    <a id="combo-cta"
                        class="bg-primary text-white py-3 px-8 rounded-lg font-bold flex items-center justify-center gap-2 w-full md:w-auto"
                        href="#order-form">
                    </a>
                </div>
            </div>
        </section>
        <div id="pricing-container" class="grid md:grid-cols-2 gap-4 mb-16">
            <!-- Dynamic Pricing -->
        </div>
        <p id="trust-badge-text" class="text-center text-lg font-semibold max-w-3xl mx-auto mb-16 px-4">
        </p>
        <section class="bg-[#10B981] text-white rounded-3xl p-6 md:p-12 mb-20 text-center shadow-2xl">
            <div class="mb-8 flex flex-col items-center">
                <div class="text-4xl font-black mb-2 flex items-center gap-2">
                    <span class="material-icons text-4xl">inventory_2</span> <span id="size-chart-logo-text"></span>
                </div>
                <p id="size-chart-title" class="text-lg opacity-90"></p>
            </div>
            <div class="overflow-x-auto">
                <table class="w-full text-center border-collapse text-xl">
                    <thead>
                        <tr class="border-b-2 border-white/30">
                            <th class="py-4 font-bold uppercase">Size</th>
                            <th class="py-4 font-bold uppercase">Waist</th>
                            <th class="py-4 font-bold uppercase">Hip</th>
                            <th class="py-4 font-bold uppercase">Thai</th>
                            <th class="py-4 font-bold uppercase">Length</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="border-b border-white/20">
                            <td class="py-4 font-bold">M</td>
                            <td class="py-4">30-32</td>
                            <td class="py-4">19</td>
                            <td class="py-4">23</td>
                            <td class="py-4">35</td>
                        </tr>
                        <tr class="border-b border-white/20">
                            <td class="py-4 font-bold">L</td>
                            <td class="py-4">34-36</td>
                            <td class="py-4">22</td>
                            <td class="py-4">24</td>
                            <td class="py-4">37</td>
                        </tr>
                        <tr class="border-b border-white/20">
                            <td class="py-4 font-bold">XL</td>
                            <td class="py-4">38-40</td>
                            <td class="py-4">23</td>
                            <td class="py-4">25</td>
                            <td class="py-4">39</td>
                        </tr>
                        <tr>
                            <td class="py-4 font-bold">XXL</td>
                            <td class="py-4">42-48</td>
                            <td class="py-4">28</td>
                            <td class="py-4">30</td>
                            <td class="py-4">42</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="mt-8">
                <h4 class="text-3xl font-bold">5 pocket cargo pants</h4>
                <p class="mt-4 text-xl">More details- 01832-930900</p>
            </div>
        </section>
        <section class="mb-20">
            <h2 class="text-3xl font-bold text-slate-900 text-center mb-10">What Our Customers Say</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div
                    class="bg-white border border-slate-200 rounded-2xl p-4 shadow-sm hover:shadow-md transition-shadow">
                    <img alt="Customer Wearing Cargo" class="w-full aspect-square object-cover rounded-xl mb-4"
                        src="https://lh3.googleusercontent.com/aida-public/AB6AXuD4Zt_qAtcHiBpl2XqnMQqRSU_nhxXkUcPK-BX48QoHxS30KyeeTvW0Lrqt24OkUR_6TliUmTjzzLZcKF8cXgk5PrgFCdvpMRQXSWQ9WHI1xsKRXvatXfuyT4XKw3VIVrMyUfmZYf0n73_z_OiXQ33b7RIubdY7d4JcVc2LfPaByC-T1z9rKW5PvJI1cC7maSnMono62VMmqamhylHoz-txTS6-Ew9KN4EWVYCLfVyn7vQ1LyvhycivFSdILHRdy8W5cjUEpVk8QPg" />
                    <div class="flex gap-1 text-orange-400 mb-2">
                        <span class="material-symbols-outlined text-sm">star</span>
                        <span class="material-symbols-outlined text-sm">star</span>
                        <span class="material-symbols-outlined text-sm">star</span>
                        <span class="material-symbols-outlined text-sm">star</span>
                        <span class="material-symbols-outlined text-sm">star</span>
                    </div>
                    <p class="text-sm font-medium text-slate-700">"The quality of this Glace Cotton
                        is amazing. The 10% stretch makes it so comfortable for all-day wear. Highly recommended!"</p>
                    <div class="mt-4 flex items-center gap-2">
                        <div
                            class="w-8 h-8 rounded-full bg-brand/10 flex items-center justify-center text-brand font-bold text-xs">
                            RJ</div>
                        <span class="text-xs font-bold opacity-70">Rafiqul J.</span>
                    </div>
                </div>
                <div
                    class="bg-white border border-slate-200 rounded-2xl p-4 shadow-sm hover:shadow-md transition-shadow">
                    <img alt="Customer Wearing Cargo" class="w-full aspect-square object-cover rounded-xl mb-4"
                        src="https://lh3.googleusercontent.com/aida-public/AB6AXuDIBgywTX7Etbpi6iu4oIpnHYFJP1QAobZwItMfv5D6YAV-tFNrPD0VGYpykVCUmXF2OFElxESv2RXflfZkBJ7dx7fy6nB8bU5MEKgvnF6EfcjtEQAwUHiOE0DAz0FMGwK2OqTQrhPTUgsFXTSVSTnGlDbOOa2xKcPkR95DNpMEOj0ahCr9feB4Z6lv32x_V_ab2d8N1HDwoXtjvv3Z_m75DoXYox_dTzl-wW2ea6xX0gRiquh1_BFe1-JWDJ2S9x6ngUOUZdg7Qpg" />
                    <div class="flex gap-1 text-orange-400 mb-2">
                        <span class="material-symbols-outlined text-sm">star</span>
                        <span class="material-symbols-outlined text-sm">star</span>
                        <span class="material-symbols-outlined text-sm">star</span>
                        <span class="material-symbols-outlined text-sm">star</span>
                        <span class="material-symbols-outlined text-sm">star</span>
                    </div>
                    <p class="text-sm font-medium text-slate-700">"Perfect fit! I was worried about
                        the size but the chart was very accurate. The fabric feels premium and the pockets are very
                        useful."</p>
                    <div class="mt-4 flex items-center gap-2">
                        <div
                            class="w-8 h-8 rounded-full bg-brand/10 flex items-center justify-center text-brand font-bold text-xs">
                            AS</div>
                        <span class="text-xs font-bold opacity-70">Ahsan S.</span>
                    </div>
                </div>
                <div
                    class="bg-white border border-slate-200 rounded-2xl p-4 shadow-sm hover:shadow-md transition-shadow">
                    <img alt="Customer Wearing Cargo" class="w-full aspect-square object-cover rounded-xl mb-4"
                        src="https://lh3.googleusercontent.com/aida-public/AB6AXuBgKkC1e2EctdyUlvEW4s635DtmKNGJ2lN9161fiA-we4N1ippCBJKz6YJRr3iTkbbLB1dAYyJj6Qd2a1oH7gv-gRKXBeROiSxA7vF36rzp2qDy9uvxdsEYY2s-0yc-UV6JSE2ZJZu0mKx3IM-3QTlmTCMyFtbbnznTXLZEhlf1BioF-GAxr6Oz6DdQ6IdxMabGE8iGXchbA4qU74towstmjh-8JdrZ_VYuv--yU5GZ3SSLAwMnVSgc5BeEYKpKz2-rB1iys2094aE" />
                    <div class="flex gap-1 text-orange-400 mb-2">
                        <span class="material-symbols-outlined text-sm">star</span>
                        <span class="material-symbols-outlined text-sm">star</span>
                        <span class="material-symbols-outlined text-sm">star</span>
                        <span class="material-symbols-outlined text-sm">star</span>
                        <span class="material-symbols-outlined text-sm">star</span>
                    </div>
                    <p class="text-sm font-medium text-slate-700">"Got the 2-piece combo and it's a
                        steal for this price. The stitching is perfect and color doesn't fade after wash. Best cargo in
                        BD."</p>
                    <div class="mt-4 flex items-center gap-2">
                        <div
                            class="w-8 h-8 rounded-full bg-brand/10 flex items-center justify-center text-brand font-bold text-xs">
                            MK</div>
                        <span class="text-xs font-bold opacity-70">Mahmud K.</span>
                    </div>
                </div>
                <div
                    class="bg-white border border-slate-200 rounded-2xl p-4 shadow-sm hover:shadow-md transition-shadow">
                    <img alt="Customer Wearing Cargo" class="w-full aspect-square object-cover rounded-xl mb-4"
                        src="https://lh3.googleusercontent.com/aida-public/AB6AXuBJhYomIyjXNNe101lWnGdwWIZLI871_fntNh1j6MyERFNNAQhNrm3W_v8BbWQVrIty1KyCNrpwS83AlzzxofYx1NkH5xGuczHHzJjvQeooiXQGYJvZNbTJEMJKX7rek2AMPH3yyZyMEjHqX-n7G8JSEM1jK5OW2QDca60iTumCruH-83Z0hreHf5NOpNhNiqgEs3Kdc7kdGxvK7PL35G1zTwwdVB7JOcA-a5jbvqJZT14Sj6t2QRZjEkz4bZVNbJuUNCP4iPSO05A" />
                    <div class="flex gap-1 text-orange-400 mb-2">
                        <span class="material-symbols-outlined text-sm">star</span>
                        <span class="material-symbols-outlined text-sm">star</span>
                        <span class="material-symbols-outlined text-sm">star</span>
                        <span class="material-symbols-outlined text-sm">star</span>
                        <span class="material-symbols-outlined text-sm">star</span>
                    </div>
                    <p class="text-sm font-medium text-slate-700">"I use these for my bike tours and
                        they are rugged yet soft. Very stylish and the fit is modern. Will buy more colors soon."</p>
                    <div class="mt-4 flex items-center gap-2">
                        <div
                            class="w-8 h-8 rounded-full bg-brand/10 flex items-center justify-center text-brand font-bold text-xs">
                            TN</div>
                        <span class="text-xs font-bold opacity-70">Tanvir N.</span>
                    </div>
                </div>
            </div>
        </section>
        <div class="grid lg:grid-cols-5 gap-8 items-start" id="order-form">
            <div class="lg:col-span-3 space-y-8">
                <div>
                    <h3 class="text-xl font-bold mb-6 flex items-center gap-2">
                        <span
                            class="bg-brand text-white w-8 h-8 rounded-full flex items-center justify-center text-sm">1</span>
                        <span id="order-step1-title"></span>
                    </h3>
                    <div id="product-list-container" class="space-y-4">
                        <!-- Dynamic Products -->
                    </div>
                </div>
                <div class="space-y-6">
                    <h3 class="text-xl font-bold flex items-center gap-2">
                        <span
                            class="bg-brand text-white w-8 h-8 rounded-full flex items-center justify-center text-sm">2</span>
                        <span id="order-step2-title"></span>
                    </h3>
                    <div class="grid gap-4">
                        <div>
                            <label id="label-name" class="block text-sm font-semibold mb-2"></label>
                            <input id="customer_name"
                                class="w-full rounded-lg border-slate-300 focus:border-brand focus:ring-brand"
                                type="text" />
                        </div>
                        <div>
                            <label id="label-address" class="block text-sm font-semibold mb-2"></label>
                            <textarea id="customer_address"
                                class="w-full rounded-lg border-slate-300 focus:border-brand focus:ring-brand"
                                rows="3"></textarea>
                        </div>
                        <div>
                            <label id="label-phone" class="block text-sm font-semibold mb-2"></label>
                            <input id="customer_phone"
                                class="w-full rounded-lg border-slate-300 focus:border-brand focus:ring-brand"
                                type="tel" />
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-8">
                        <div>
                            <label id="label-size" class="block text-sm font-semibold mb-3"></label>
                            <div class="space-y-2">
                                <label class="flex items-center gap-2 cursor-pointer"><input
                                        class="text-brand focus:ring-brand" name="size" type="radio" /> M *</label>
                                <label class="flex items-center gap-2 cursor-pointer"><input
                                        class="text-brand focus:ring-brand" name="size" type="radio" /> L *</label>
                                <label class="flex items-center gap-2 cursor-pointer"><input
                                        class="text-brand focus:ring-brand" name="size" type="radio" /> XL *</label>
                                <label class="flex items-center gap-2 cursor-pointer"><input
                                        class="text-brand focus:ring-brand" name="size" type="radio" /> XXL *</label>
                            </div>
                        </div>
                        <div>
                            <label id="label-color" class="block text-sm font-semibold mb-3"></label>
                            <div class="space-y-2">
                                <label class="flex items-center gap-2 cursor-pointer"><input
                                        class="text-brand rounded focus:ring-brand" name="color" value="Black"
                                        type="checkbox" /> Black</label>
                                <label class="flex items-center gap-2 cursor-pointer"><input
                                        class="text-brand rounded focus:ring-brand" name="color" value="Grey"
                                        type="checkbox" /> Grey</label>
                                <label class="flex items-center gap-2 cursor-pointer"><input
                                        class="text-brand rounded focus:ring-brand" name="color" value="Olive"
                                        type="checkbox" /> Olive</label>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h3 id="label-shipping" class="text-lg font-bold mb-4"></h3>
                        <div id="shipping-options-container"
                            class="space-y-3 bg-white p-4 rounded-xl border border-slate-200">
                            <!-- Dynamic Shipping -->
                        </div>
                    </div>
                </div>
            </div>
            <div class="lg:col-span-2 space-y-6">
                <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-200 sticky top-8">
                    <h3 id="summary-title" class="text-xl font-bold mb-6"></h3>
                    <div class="space-y-4 mb-6">
                        <div class="flex items-start gap-4 pb-4 border-b border-slate-100">
                            <img alt="Product thumbnail" class="w-12 h-12 rounded object-cover"
                                src="https://lh3.googleusercontent.com/aida-public/AB6AXuBjiskaI1osrOHw1JOTrkD8l4nj8XPBy688a1d7hH7nJpZTdyyt2V2l5T-VqLSc-YJumwXboPIn5_rblCsTwEkMF0pkNCz7Yu6vuzikbUBa44P4f-LMCuNsH7RpfuxSjTewNjp5e2tZmoRL67YffL_xNoqnSzp-QRKdcONkesI7aGh5mckn6aQMM56pKt_dayXxFuLrhOlEjegQiz6w_mGQkmDaGDphB7uV5irPetwZuTLD8418NPzuUdfWzNjw2N_wpYGZv9XFccc" />
                            <div class="flex-1">
                                <p class="text-sm font-medium">প্রিমিয়াম কার্গো প্যান্ট</p>
                            </div>
                            <span class="font-bold">× ১ ৪৪০৳</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-slate-500">Subtotal</span>
                            <span class="font-bold">৪৪০৳</span>
                        </div>
                        <div class="flex justify-between text-lg font-bold border-t border-slate-100 pt-4">
                            <span>Total</span>
                            <span class="text-brand">৫১০৳</span>
                        </div>
                    </div>
                    <div class="bg-green-50 p-4 rounded-xl mb-6">
                        <p id="summary-cod-text" class="text-sm font-semibold mb-2"></p>
                        <label
                            class="flex items-center gap-2 text-sm bg-green-400 p-2 rounded text-white cursor-pointer">
                            <input checked="" class="rounded border-none focus:ring-0" type="checkbox" />
                            <span id="summary-cod-label"></span>
                        </label>
                    </div>
                    <p id="summary-disclaimer" class="text-[10px] text-slate-400 mb-6 leading-relaxed">
                    </p>
                    <button id="order-btn"
                        class="w-full bg-primary hover:bg-red-700 text-white py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 shadow-lg shadow-primary/30 transition-all active:scale-95">
                        <span class="material-icons">lock</span> <span id="order-btn-text"></span>
                    </button>
                </div>
            </div>
        </div>
    </main>
    <footer class="bg-slate-100 py-12 border-t border-slate-200">
        <div class="max-w-4xl mx-auto px-4 text-center">
            <p id="footer-contact-title" class="text-brand font-bold mb-4"></p>
            <div id="footer-numbers" class="text-lg font-bold flex flex-col gap-1">
            </div>
            <div id="footer-copyright" class="mt-8 text-sm opacity-50">
            </div>
        </div>
    </footer>
    <script>
        document.getElementById('order-btn').addEventListener('click', async (e) => {
            e.preventDefault();
            const btn = e.target.closest('button');
            const originalText = btn.innerHTML;

            // Gather Data
            const name = document.getElementById('customer_name').value;
            const address = document.getElementById('customer_address').value;
            const phone = document.getElementById('customer_phone').value;

            // Get selected product
            const product = document.querySelector('input[name="product"]:checked');
            const productText = product ? product.closest('label').querySelector('h4').innerText : 'Unknown Product';

            // Get selected size
            const sizeInput = document.querySelector('input[name="size"]:checked');
            const size = sizeInput ? sizeInput.closest('label').innerText.trim().split(' ')[0] : 'N/A';

            // Get selected colors
            const colors = Array.from(document.querySelectorAll('input[name="color"]:checked'))
                .map(cb => cb.value).join(', ');

            // Validation
            if (!name || !address || !phone) {
                alert('অনুগ্রহ করে নাম, ঠিকানা এবং মোবাইল নম্বর পূরণ করুন।');
                return;
            }

            const productSummary = `${productText} - Size: ${size} - Color: ${colors}`;

            // Calculate Total (Static for now based on selection, simple logic)
            // Ideally we parse the price from the DOM or logic.
            // For now, let's just assume 510 as shown in UI or parse it.
            const total = 510;

            btn.disabled = true;
            btn.innerText = 'অর্ডার প্রসেসিং হচ্ছে...';

            try {
                const response = await fetch('http://localhost:8787/api/order', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        customer_name: name,
                        customer_address: address,
                        customer_phone: phone,
                        product_summary: productSummary,
                        total_price: total
                    })
                });

                const result = await response.json();

                if (result.success) {
                    // Success UI
                    document.querySelector('main').innerHTML = `
                        <div class="text-center py-20">
                            <span class="material-icons text-6xl text-green-500 mb-4">check_circle</span>
                            <h2 class="text-3xl font-bold mb-4">অর্ডার সফল হয়েছে!</h2>
                            <p class="text-xl">আপনার অর্ডার আইডি: #${result.orderId}</p>
                            <p class="mt-4">আমাদের প্রতিনিধি শীঘ্রই আপনার সাথে যোগাযোগ করবে।</p>
                        </div>
                    `;
                    document.getElementById('order-form').scrollIntoView();
                } else {
                    alert('অর্ডার করতে সমস্যা হয়েছে। আবার চেষ্টা করুন।');
                    btn.disabled = false;
                    btn.innerHTML = originalText;
                }
            } catch (err) {
                console.error(err);
                alert('নেটওয়ার্ক সমস্যা। আবার চেষ্টা করুন।');
                btn.disabled = false;
                btn.innerHTML = originalText;
            }
        });
    </script>
    <script>
        // Store content globally for access in event handlers
        let siteContent = {};

        document.addEventListener('DOMContentLoaded', async () => {
            try {
                // Fetch Content from local JSON file (simulating backend)
                // In a real worker environment, this might be /api/content
                const res = await fetch('http://localhost:8787/api/content');
                const data = await res.json();
                siteContent = data;

                renderContent(data);
                initializeOrderForm(data);

            } catch (e) {
                console.error('Failed to fetch dynamic content', e);
            }
        });

        function renderContent(data) {
            // --- Meta ---
            document.title = data.meta.title;

            // --- Header ---
            setText('header-logo', data.header.logoText);
            setHTML('header-headline', data.header.headline);
            setText('header-cta-text', data.header.cta.text);
            setHTML('header-cta-btn', `${data.header.cta.buttonText} <span class="material-icons text-sm">shopping_cart</span>`);

            // --- Hero ---
            setText('hero-headline', data.hero.headline);
            setText('hero-subheadline', data.hero.subheadline);

            // Showcase Images
            const showcaseContainer = document.getElementById('hero-showcase');
            if (showcaseContainer && data.hero.showcaseImages) {
                showcaseContainer.innerHTML = data.hero.showcaseImages.map(img => `
                    <div class="bg-white p-2 rounded-xl shadow-sm border border-slate-100">
                        <img alt="${img.alt}" class="rounded-lg w-full aspect-[3/4] object-cover mb-2" src="${img.src}" />
                    </div>
                `).join('');
            }

            setText('value-props-title', data.hero.valueProps.title);

            // Value Props
            const valuePropsContainer = document.getElementById('value-props-list');
            if (valuePropsContainer && data.hero.valueProps.items) {
                valuePropsContainer.innerHTML = data.hero.valueProps.items.map(item => `
                    <div class="flex items-start gap-3">
                        <span class="material-icons text-orange-500 mt-1">check_box</span>
                        <p class="font-medium">${item}</p>
                    </div>
                `).join('');
            }

            setHTML('hero-main-cta', `${data.hero.mainCta} <span class="material-icons">shopping_cart</span>`);

            // --- Combo Offer ---
            const comboImg = document.getElementById('combo-image');
            if (comboImg) comboImg.src = data.comboOffer.image;

            setText('combo-badge-line1', data.comboOffer.badge.line1);
            setText('combo-badge-line2', data.comboOffer.badge.line2);
            setText('combo-details-title', data.comboOffer.details.title);
            setText('combo-details-desc', data.comboOffer.details.description);

            const comboFeatures = document.getElementById('combo-features-list');
            if (comboFeatures && data.comboOffer.details.features) {
                comboFeatures.innerHTML = data.comboOffer.details.features.map(feat => `
                    <li class="flex items-center gap-2">
                        <span class="text-green-500 material-icons text-sm">fiber_manual_record</span> ${feat}
                    </li>
                `).join('');
            }

            setHTML('combo-cta', `${data.comboOffer.details.cta} <span class="material-icons">shopping_cart</span>`);

            // --- Pricing ---
            const pricingContainer = document.getElementById('pricing-container');
            if (pricingContainer && data.pricing) {
                pricingContainer.innerHTML = data.pricing.map(item => `
                    <div class="border-2 border-brand/20 bg-white p-4 rounded-xl text-center">
                        <span class="text-lg font-bold">${item.text} <span class="text-green-600 border-2 border-green-600 rounded-full px-2 py-0.5">${item.price}</span> ${item.unit}</span>
                    </div>
                `).join('');
            }

            setText('trust-badge-text', data.trustBadge.text);

            // --- Size Chart ---
            setText('size-chart-logo-text', data.header.logoText);
            setText('size-chart-title', data.sizeChart.title);
            // We are keeping the table static for now as it's complex structure, or we can make it dynamic later if requested.

            // --- Footer ---
            setText('footer-contact-title', data.footer.contactTitle);
            const footerNumbers = document.getElementById('footer-numbers');
            if (footerNumbers && data.footer.phoneNumbers) {
                footerNumbers.innerHTML = data.footer.phoneNumbers.map(num => `<p>${num}</p>`).join('');
            }
            setText('footer-copyright', data.footer.copyright);
        }

        function initializeOrderForm(data) {
            // Titles & Labels
            setText('order-step1-title', data.orderForm.step1Title);
            setText('order-step2-title', data.orderForm.step2Title);
            setText('label-name', data.orderForm.labels.name);
            setText('label-address', data.orderForm.labels.address);
            setText('label-phone', data.orderForm.labels.phone);
            setText('label-size', data.orderForm.labels.size);
            setText('label-color', data.orderForm.labels.color);
            setText('label-shipping', data.orderForm.labels.shippingTitle); // fixed key

            document.getElementById('customer_name').placeholder = data.orderForm.labels.namePlaceholder;
            document.getElementById('customer_address').placeholder = data.orderForm.labels.addressPlaceholder;
            document.getElementById('customer_phone').placeholder = data.orderForm.labels.phonePlaceholder;

            // Generate Products
            const productContainer = document.getElementById('product-list-container');
            if (productContainer && data.orderForm.products) {
                productContainer.innerHTML = data.orderForm.products.map((prod, index) => `
                    <label class="block cursor-pointer group">
                        <input class="hidden peer" name="product" type="radio" value="${prod.id}" data-price="${prod.price}" ${index === 0 ? 'checked' : ''} />
                        <div class="flex items-center gap-4 p-4 rounded-xl border-2 border-slate-200 peer-checked:border-brand peer-checked:bg-blue-50 transition-all">
                            <img alt="${prod.name}" class="w-16 h-16 rounded-lg object-cover" src="${prod.image}" />
                            <div class="flex-1">
                                <h4 class="font-bold">${prod.name} × ১</h4>
                                <p class="text-sm text-slate-500">${prod.price}৳</p>
                            </div>
                            <div class="flex items-center gap-2">
                                <button type="button" class="w-8 h-8 rounded bg-slate-200 flex items-center justify-center">-</button>
                                <span class="font-bold px-2">1</span>
                                <button type="button" class="w-8 h-8 rounded bg-slate-200 flex items-center justify-center">+</button>
                            </div>
                        </div>
                    </label>
                `).join('');
            }

            // Generate Shipping Options
            const shippingContainer = document.getElementById('shipping-options-container');
            if (shippingContainer && data.orderForm.shippingOptions) {
                shippingContainer.innerHTML = data.orderForm.shippingOptions.map((opt, index) => `
                    <label class="flex items-center justify-between cursor-pointer ${index > 0 ? 'border-t border-slate-100 pt-3' : ''}">
                        <div class="flex items-center gap-2">
                            <input class="text-brand focus:ring-brand" name="shipping" type="radio" value="${opt.price}" ${index === 0 ? 'checked' : ''} />
                            <span>${opt.label}</span>
                        </div>
                        <span class="font-bold">${opt.price}৳</span>
                    </label>
                `).join('');
            }

            // Summary
            setText('summary-title', data.orderForm.summary.title);
            setText('summary-cod-text', data.orderForm.summary.codText);
            setText('summary-cod-label', data.orderForm.summary.codLabel);
            setText('summary-disclaimer', data.orderForm.summary.disclaimer);
            setHTML('order-btn-text', data.orderForm.summary.buttonText);

            // Initialize Total Calculation Logic
            updateTotal();

            // Event Listeners for Dynamic Elements
            document.getElementById('order-form').addEventListener('change', (e) => {
                if (e.target.name === 'product' || e.target.name === 'shipping') {
                    updateTotal();
                }
            });
        }

        function updateTotal() {
            const product = document.querySelector('input[name="product"]:checked');
            const shipping = document.querySelector('input[name="shipping"]:checked');

            if (product && shipping) {
                const price = parseInt(product.dataset.price || 0);
                const shipPrice = parseInt(shipping.value || 0);
                const total = price + shipPrice;

                const btnText = document.getElementById('order-btn-text');
                if (btnText) btnText.parentElement.innerHTML = `<span class="material-icons">lock</span> ${siteContent.orderForm?.summary?.buttonText || 'অর্ডার করুন'} ${total}৳`;
            }
        }

        // Helpers
        function setText(id, text) {
            const el = document.getElementById(id);
            if (el) el.innerText = text || '';
        }
        function setHTML(id, html) {
            const el = document.getElementById(id);
            if (el) el.innerHTML = html || '';
        }

        // Order Submission
        document.getElementById('order-btn').addEventListener('click', async (e) => {
            e.preventDefault();
            const btn = e.target.closest('button');
            const originalText = btn.innerHTML;

            // Gather Data
            const name = document.getElementById('customer_name').value;
            const address = document.getElementById('customer_address').value;
            const phone = document.getElementById('customer_phone').value;

            // Get selected product
            const productInput = document.querySelector('input[name="product"]:checked');
            const productWrapper = productInput ? productInput.closest('label') : null;
            const productText = productWrapper ? productWrapper.querySelector('h4').innerText : 'Unknown Product';
            const productPrice = productInput ? parseInt(productInput.dataset.price) : 0;

            // Get selected size
            const sizeInput = document.querySelector('input[name="size"]:checked');
            const size = sizeInput ? sizeInput.parentElement.innerText.replace('*', '').trim() : 'N/A';

            // Get selected colors
            const colors = Array.from(document.querySelectorAll('input[name="color"]:checked'))
                .map(cb => cb.value).join(', ');

            // Get shipping
            const shippingInput = document.querySelector('input[name="shipping"]:checked');
            const shippingCost = shippingInput ? parseInt(shippingInput.value) : 0;
            const total = productPrice + shippingCost;

            // Validation
            if (!name || !address || !phone) {
                alert('অনুগ্রহ করে নাম, ঠিকানা এবং মোবাইল নম্বর পূরণ করুন।');
                return;
            }

            const productSummary = `${productText} - Size: ${size} - Color: ${colors}`;

            btn.disabled = true;
            btn.innerHTML = 'অর্ডার প্রসেসিং হচ্ছে...';

            try {
                // Determine API URL
                const apiUrl = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1'
                    ? 'http://localhost:8787/api/order'
                    : '/api/order';

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        customer_name: name,
                        customer_address: address,
                        customer_phone: phone,
                        product_summary: productSummary,
                        total_price: total
                    })
                });

                const result = await response.json();

                if (result.success) {
                    // Success UI
                    document.querySelector('main').innerHTML = `
                        <div class="text-center py-20">
                            <span class="material-icons text-6xl text-green-500 mb-4">check_circle</span>
                            <h2 class="text-3xl font-bold mb-4">অর্ডার সফল হয়েছে!</h2>
                            <p class="text-xl">আপনার অর্ডার আইডি: #${result.orderId}</p>
                            <p class="mt-4">আমাদের প্রতিনিধি শীঘ্রই আপনার সাথে যোগাযোগ করবে।</p>
                        </div>
                    `;
                    document.getElementById('order-form')?.scrollIntoView();
                } else {
                    alert('অর্ডার করতে সমস্যা হয়েছে। আবার চেষ্টা করুন।');
                    btn.disabled = false;
                    btn.innerHTML = originalText;
                }
            } catch (err) {
                console.error(err);
                alert('নেটওয়ার্ক সমস্যা। আবার চেষ্টা করুন।');
                btn.disabled = false;
                btn.innerHTML = originalText;
            }
        });
    </script>

</body>

</html>